<!DOCTYPE html>
<html>
<head>
	<title>02 - Generator Fluxo em Ajax</title>
</head>
<body>

</body>
<script type="text/javascript">
	
	function ajax(url) { 	
		fetch(url)
			.then(data =>  data.json())
			.then(data => dados.next(data));
	}

	function* ajaxGen() {
		console.log('Buscando posts...');
		const posts = yield ajax('https://willianjusten.com.br/search.json');
		console.log(posts);

		console.log('Buscando dados github...');
		const github = yield ajax('https://api.github.com/users/guilhermealbuquerquegit');
		console.log(github);
	}

	const dados = ajaxGen();
	dados.next();



	// function ajax(url) { 	
	// 	return fetch(url)
	// 		.then(data =>  data.json())
	// 		.then(data => data);
	// }

	// async function  ajaxGen() {
	// 	console.log('Buscando posts...');
	// 	const posts = await ajax('https://willianjusten.com.br/search.json');
	// 	console.log(posts);

	// 	console.log('Buscando dados github...');
	// 	const github = await ajax('https://api.github.com/users/guilhermealbuquerquegit');
	// 	console.log(github);
	// }
	// ajaxGen();
</script>
</html>